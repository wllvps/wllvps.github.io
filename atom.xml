<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Bokee&#39;s Blog</title>
  
  
  <link href="http://bokee.cf/atom.xml" rel="self"/>
  
  <link href="http://bokee.cf/"/>
  <updated>2020-10-13T13:13:30.000Z</updated>
  <id>http://bokee.cf/</id>
  
  <author>
    <name>Bokee</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>将本地Hexo博客自动部署到Github</title>
    <link href="http://bokee.cf/2020/10/12/%E5%B0%86%E6%9C%AC%E5%9C%B0Hexo%E5%8D%9A%E5%AE%A2%E8%87%AA%E5%8A%A8%E9%83%A8%E7%BD%B2%E5%88%B0Github/"/>
    <id>http://bokee.cf/2020/10/12/%E5%B0%86%E6%9C%AC%E5%9C%B0Hexo%E5%8D%9A%E5%AE%A2%E8%87%AA%E5%8A%A8%E9%83%A8%E7%BD%B2%E5%88%B0Github/</id>
    <published>2020-10-12T09:13:06.000Z</published>
    <updated>2020-10-13T13:13:30.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>说明：利用GitHub Actions功能，将本地Hexo博客部署到Github<br>此篇作用就是当将本地Hexo源码push到github上后，github action会自动部署。但是还需要自己手工执行push命令。<br>参考链接：<a href="https://blog.csdn.net/u012208219/article/details/106883054">https://blog.csdn.net/u012208219/article/details/106883054</a></p></blockquote><h1 id="将前期生成的私钥配置到Github"><a href="#将前期生成的私钥配置到Github" class="headerlink" title="将前期生成的私钥配置到Github"></a>将前期生成的私钥配置到Github</h1><blockquote><p>密钥对生成后默认的位置是用户文件。以windows为例：密钥对文件在C:\Users\用户名里，其中Users可能因为系统原因显示的是用户。这个文件夹里会有一个.ssh的目录，这个里面就是我们的密钥对。</p><p> 其中<strong>id_rsa</strong>是私钥，<strong>id_rsa.pub</strong>是公钥。</p></blockquote><blockquote><ul><li>Liunx下输入命令查看</li></ul></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat id_rsa</span><br></pre></td></tr></table></figure><blockquote><ul><li>如果出错，请cd到id_rsa文件所在目录执行（默认在  <strong>.ssh</strong> 文件夹下）</li><li>复制输出的私钥</li><li>youname.github.io仓库下，Settings-&gt;Secrets里添加私钥，名称为HEXO_DEPLOY_PRIVATE_KEY</li></ul></blockquote><h1 id="添加Actions"><a href="#添加Actions" class="headerlink" title="添加Actions"></a>添加Actions</h1><blockquote><p>1.点击youname.github.io仓库里的Actions按钮。<br>2.点击New workflow来创建一个新的actions。<br>3.输入以下代码</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"># workflow name</span><br><span class="line">name: Hexo Blog CI</span><br><span class="line"></span><br><span class="line"># master branch on push, auto run</span><br><span class="line">on: </span><br><span class="line">  push:</span><br><span class="line">    branches:</span><br><span class="line">      - master</span><br><span class="line">      </span><br><span class="line">jobs:</span><br><span class="line">  build: </span><br><span class="line">    runs-on: ubuntu-latest </span><br><span class="line">    strategy:</span><br><span class="line">      matrix:</span><br><span class="line">        node-version: [12.18.2]</span><br><span class="line">        </span><br><span class="line">    steps:</span><br><span class="line">    # check it to your workflow can access it</span><br><span class="line">    # from: https:&#x2F;&#x2F;github.com&#x2F;actions&#x2F;checkout</span><br><span class="line">    - name: 1. 检查master分支</span><br><span class="line">      uses: actions&#x2F;checkout@master </span><br><span class="line">      </span><br><span class="line">    # from: https:&#x2F;&#x2F;github.com&#x2F;actions&#x2F;setup-node  </span><br><span class="line">    - name: 2. 设置Node.js</span><br><span class="line">      uses: actions&#x2F;setup-node@master</span><br><span class="line">      with:</span><br><span class="line">        node-version: $&#123;&#123; matrix.node-version &#125;&#125;</span><br><span class="line">    </span><br><span class="line">    - name: 3. 安装 Hexo CI</span><br><span class="line">        run: |</span><br><span class="line">          export TZ&#x3D;&#39;Asia&#x2F;Shanghai&#39;</span><br><span class="line">          npm install hexo-cli -g</span><br><span class="line">    </span><br><span class="line">    - name: 4.安装依赖</span><br><span class="line">      run: |</span><br><span class="line">        npm install -g npm</span><br><span class="line">        npm install</span><br><span class="line">        npm install -g cnpm --registry&#x3D;https:&#x2F;&#x2F;registry.npm.taobao.org</span><br><span class="line">        cnpm install</span><br><span class="line">    </span><br><span class="line">    - name: 5.设置私钥信息</span><br><span class="line">      env:</span><br><span class="line">        HEXO_DEPLOY_PRIVATE_KEY: $&#123;&#123; secrets.HEXO_DEPLOY_PRIVATE_KEY &#125;&#125;</span><br><span class="line">      run: |</span><br><span class="line">        mkdir -p ~&#x2F;.ssh&#x2F;</span><br><span class="line">        echo &quot;$HEXO_DEPLOY_PRIVATE_KEY&quot; &gt; ~&#x2F;.ssh&#x2F;id_rsa </span><br><span class="line">        chmod 600 ~&#x2F;.ssh&#x2F;id_rsa</span><br><span class="line">        ssh-keyscan github.com &gt;&gt; ~&#x2F;.ssh&#x2F;known_hosts</span><br><span class="line">        </span><br><span class="line">    - name: 6.设置git信息</span><br><span class="line">      run: | </span><br><span class="line">        git config --global user.name &#39;名字&#39; </span><br><span class="line">        git config --global user.email &#39;邮件&#39;</span><br><span class="line">    - name: Deploy Hexo </span><br><span class="line">      run: |</span><br><span class="line">        hexo clean</span><br><span class="line">        hexo generate </span><br><span class="line">        hexo deploy</span><br></pre></td></tr></table></figure><blockquote><p>备注：<strong>名字更改为github用户名，邮件改为github注册邮箱</strong>。</p></blockquote><blockquote><p>4.点击Start commit按钮</p></blockquote><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L2doL2Jsb2dpbWcvSGV4b1N0YXRpY0ZpbGUxL2ltZ2JlZC8yMDIwLzAyLzE1LzIwMjAwMjE1MTQzMTU3LnBuZw?x-oss-process=image/format,png"></p><h1 id="域名问题"><a href="#域名问题" class="headerlink" title="域名问题"></a>域名问题</h1><blockquote><p>问题：每次部署完都需要重新绑定域名。<br>解决方式很简单，在博客根目录的配置文件中找到skip_render字段，添加值’CNAME’<br>skip_render:  ‘CNAME’<br>然后在/source的目录中创建一个文件，命名为CNAME，里边的内容写你的域名。只写域名即可。例如<a href="http://www.antmoe.com/">www.antmoe.com</a> ,不需要添加http(s)://</p></blockquote>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;说明：利用GitHub Actions功能，将本地Hexo博客部署到Github&lt;br&gt;此篇作用就是当将本地Hexo源码push到github上后，github action会自动部署。但是还需要自己手工执行push命令。&lt;br&gt;参考链接：&lt;a h</summary>
      
    
    
    
    <category term="技术文档" scheme="http://bokee.cf/categories/%E6%8A%80%E6%9C%AF%E6%96%87%E6%A1%A3/"/>
    
    
    <category term="Hexo" scheme="http://bokee.cf/tags/Hexo/"/>
    
    <category term="博客" scheme="http://bokee.cf/tags/%E5%8D%9A%E5%AE%A2/"/>
    
  </entry>
  
  <entry>
    <title>从零开始，部署Hexo到Github</title>
    <link href="http://bokee.cf/2020/10/10/hexo-bushu/"/>
    <id>http://bokee.cf/2020/10/10/hexo-bushu/</id>
    <published>2020-10-10T15:10:15.000Z</published>
    <updated>2020-10-13T13:20:54.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="安装Git"><a href="#安装Git" class="headerlink" title="安装Git"></a>安装Git</h1><blockquote><p>下载地址：<a href="https://gitforwindows.org/">https://gitforwindows.org</a><br><strong>备注 : 安装时，一路Next即可。</strong></p></blockquote><h1 id="安装Node-js"><a href="#安装Node-js" class="headerlink" title="安装Node.js"></a>安装Node.js</h1><blockquote><p>下载地址：<a href="https://nodejs.org/en/download/">https://nodejs.org/en/download/</a><br><strong>备注：下载LTS，一路Next即可，会自动将node和npm这两个命令添加到PATH环境变量中。</strong></p></blockquote><h1 id="本地部署Hexo"><a href="#本地部署Hexo" class="headerlink" title="本地部署Hexo"></a>本地部署Hexo</h1><blockquote><p><strong>参考链接：</strong> <a href="https://jingyan.baidu.com/article/e8cdb32b0ce12137042bad51.html">https://jingyan.baidu.com/article/e8cdb32b0ce12137042bad51.html</a></p></blockquote><h2 id="配置Git的用户信息"><a href="#配置Git的用户信息" class="headerlink" title="配置Git的用户信息"></a>配置Git的用户信息</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.name “GitHub用户名”</span><br><span class="line">git config --global user.email “GitHub邮箱”</span><br></pre></td></tr></table></figure><h2 id="生成ssh密钥文件"><a href="#生成ssh密钥文件" class="headerlink" title="生成ssh密钥文件"></a>生成ssh密钥文件</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t rsa -C “Github邮箱”</span><br></pre></td></tr></table></figure><blockquote><p><strong>备注</strong>：</p><ul><li>这个密码会在你提交项目时使用，如果为空的话提交项目时则不用输入。这个设置是防止别人往你的项目里提交内容。</li><li>密码为空就行</li><li>输入密码的时候没有*字样的，你直接输入就可以了。</li></ul></blockquote><h2 id="查看生成公钥"><a href="#查看生成公钥" class="headerlink" title="查看生成公钥"></a>查看生成公钥</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat id_rsa.pub</span><br></pre></td></tr></table></figure><blockquote><p><strong>备注</strong>：</p><ul><li>默认在本目录/.ssh下。</li></ul></blockquote><h2 id="创建个人仓库"><a href="#创建个人仓库" class="headerlink" title="创建个人仓库"></a>创建个人仓库</h2><blockquote><ul><li><p>1.进入Github官网，建立仓库，名字必须为：username.github.io</p></li><li><p>2.点击+旁边的头像，再按<strong>settings</strong>进入设置</p></li><li><p>3.点击<strong>New SSH key</strong>创建</p></li><li><p>4.title随便输，key里面粘贴刚才右击复制的内容（<code>cat  id_rsa.pub</code>）命令查看的公钥）,再点<strong>Add SSH key</strong></p></li><li><p>5.打开Git Bash，然后输 <code>ssh git@github.com</code> 进行测试，如配置了密码则要输入密码,输完按回车。</p><p><strong>备注</strong>：如果显示以下内容，则说明Github中的ssh配置成功。<br>Hi username! You’ve successfully authenticated, but GitHub does not<br>provide shell access.12</p></li></ul></blockquote><h2 id="安装hexo本地环境"><a href="#安装hexo本地环境" class="headerlink" title="安装hexo本地环境"></a>安装hexo本地环境</h2><blockquote><p>1.安装命令<br><code>npm install hexo-cli -g</code><br><strong>备注</strong>：输入hexo查看是否能够运行hexo命令<br>2.初始化hexo<br><code>hexo init blog</code><br>此处会出问题，执行<code>npm install -g cnpm --registry=https://registry.npm.taobao.org</code>和<code>cnpm install</code>继续<br>3.进入仅限文件夹blog<br><code>cd blog</code><br>4.安装hexo<br><code>npm install</code><br>5.启动hexo程序<br><code>hexo server</code><br>6.hexo本地预览<br><a href="http://localhost:4000/">http://localhost:4000</a></p></blockquote><h2 id="修改默认主题"><a href="#修改默认主题" class="headerlink" title="修改默认主题"></a>修改默认主题</h2><blockquote><p>1.blog文件夹中空白处右击打开Git Bash输入<br><code>git clone https://github.com/jerryc127/hexo-theme-butterfly themes/butterfly</code><br>2.修改配置文件_config.yml，修改theme的名字为：butterfly</p></blockquote><h2 id="另外常用的hexo命令有"><a href="#另外常用的hexo命令有" class="headerlink" title="另外常用的hexo命令有"></a>另外常用的hexo命令有</h2><blockquote><p>部署：<code>hexo d</code><br>清除缓存：<code>hexo clean</code><br>升级hexo：<code>npm update hexo -g</code></p></blockquote><h1 id="部署到Github"><a href="#部署到Github" class="headerlink" title="部署到Github"></a>部署到Github</h1><h2 id="安装hexo部署插件"><a href="#安装hexo部署插件" class="headerlink" title="安装hexo部署插件"></a>安装hexo部署插件</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-deployer-git –save</span><br></pre></td></tr></table></figure><h2 id="修改配置文件-config-yml"><a href="#修改配置文件-config-yml" class="headerlink" title="修改配置文件_config.yml"></a>修改配置文件_config.yml</h2><blockquote><p>deploy:<br>repository: <a href="mailto:&#x67;&#x69;&#116;&#x40;&#103;&#x69;&#116;&#104;&#x75;&#98;&#46;&#x63;&#111;&#x6d;">&#x67;&#x69;&#116;&#x40;&#103;&#x69;&#116;&#104;&#x75;&#98;&#46;&#x63;&#111;&#x6d;</a>:<strong>yourname</strong>/<strong>yourname</strong>.github.io.git<br>type: git<br>branch: master</p><p><strong>备注</strong>：<br>1.其中<strong>yourname</strong>替换成你的Github账户名;<br>2.注意在yml文件中，:后面都是要带空格的;<br>3.配置文件中不要使用tab。</p></blockquote><h2 id="重新编译部署"><a href="#重新编译部署" class="headerlink" title="重新编译部署"></a>重新编译部署</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo d -g</span><br></pre></td></tr></table></figure><h2 id="Github访问地址"><a href="#Github访问地址" class="headerlink" title="Github访问地址"></a>Github访问地址</h2><blockquote><p><a href="https://github用户名.github.io/">https://github用户名.github.io</a></p></blockquote><h1 id="安装hexo-myadmin插件"><a href="#安装hexo-myadmin插件" class="headerlink" title="安装hexo-myadmin插件"></a>安装hexo-myadmin插件</h1><h2 id="执行命令"><a href="#执行命令" class="headerlink" title="执行命令"></a>执行命令</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">npm</span> <span class="selector-tag">i</span> <span class="selector-tag">hexo-myadmin</span> <span class="selector-tag">--save</span></span><br></pre></td></tr></table></figure><blockquote><p><strong>备注</strong>：如出错，@2.3.0手工输入</p></blockquote><h2 id="访问地址"><a href="#访问地址" class="headerlink" title="访问地址"></a>访问地址</h2><blockquote><p><a href="http://localhost:4000/admin">http://localhost:4000/admin</a></p></blockquote><blockquote><p><strong>参考链接</strong>：<a href="https://blog.csdn.net/nineya_com/article/details/103384546">https://blog.csdn.net/nineya_com/article/details/103384546</a></p></blockquote><h1 id="链接自定义域名"><a href="#链接自定义域名" class="headerlink" title="链接自定义域名"></a>链接自定义域名</h1><blockquote><p> 1.登录Github账号，在youname.github.io项目根目录下，新建CANME文件<br> 2.将自定义域名写入CNAME文件即可。<br> 3.将CNAME文件下载到本地，复制到source文件夹下</p></blockquote><h1 id="重新部署"><a href="#重新部署" class="headerlink" title="重新部署"></a>重新部署</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo clean &amp;&amp; hexo d -g</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;安装Git&quot;&gt;&lt;a href=&quot;#安装Git&quot; class=&quot;headerlink&quot; title=&quot;安装Git&quot;&gt;&lt;/a&gt;安装Git&lt;/h1&gt;&lt;blockquote&gt;
&lt;p&gt;下载地址：&lt;a href=&quot;https://gitforwindows.org/&quot;&gt;htt</summary>
      
    
    
    
    <category term="技术文档" scheme="http://bokee.cf/categories/%E6%8A%80%E6%9C%AF%E6%96%87%E6%A1%A3/"/>
    
    
    <category term="Hexo" scheme="http://bokee.cf/tags/Hexo/"/>
    
    <category term="博客" scheme="http://bokee.cf/tags/%E5%8D%9A%E5%AE%A2/"/>
    
  </entry>
  
</feed>
